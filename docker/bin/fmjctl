#!/usr/bin/env sh

set -o errexit -o nounset -o pipefail

# ----------------------
#   'lib' functions
# ----------------------
function lib::mysql_check() {
  echo "Waiting for MySQL/MariaDB connection to become available"

    nc -zv 127.0.0.1 3306
}



# ----------------------
#   'help' usage function
# ----------------------
function hosts::usage() {
  echo
  echo "Usage: $(basename "${0}") <COMMAND>"
  echo
  echo "init    - Initialize the Shopware 6 instance"
  echo "run     - Start the super"
  echo "help    - Print this usage information"
  echo
}

# ----------------------
#   'add' function
# ----------------------
function hosts::add() {

}

# ----------------------
#   'remove' function
# ----------------------
function hosts::remove() {

}

# --------------------------------
#   MAIN
# --------------------------------
function main() {
  local cmd=${1}

  case "${cmd}" in
  add)
    hosts::add
    return $?
    ;;
  remove)
    hosts::remove
    return $?
    ;;
  *)
    log::red "Unknown command: ${cmd}. See 'help' command for usage information:"
    hosts::usage
    return 1
    ;;
  esac
}

# ------------
# 'main' call
# ------------
main "$@"